import{r as n,a as l,u as w,j as e,al as v,am as b,an as C,S as k,b as I,L as E,Q as h}from"./index-3e5dc969.js";import{c as B,a as c,e as F,f as $}from"./index.esm-106f3936.js";import{W as T,L as d,I as p,v as P,a as m,S as x,E as u,b as W,c as L,B as D,T as R,P as q,d as O,N as U}from"./SignUp.styled-3290eafe.js";import{S as N,a as H,W as A}from"./WelcomeStats-41a34fea.js";const Q=B().shape({email:c().email("Invalid email").required("Required!"),password:c().min(6,"Too Short!").required("Required!")}),V={email:"",password:""},z=()=>{const[o,i]=n.useState(`${l}#icon-eye-off`),[r,t]=n.useState("password"),S=w(),j=(s,a)=>{S(v(s)),a.resetForm()},g=()=>{r==="password"?(t("text"),i(`${l}#icon-eye`)):(t("password"),i(`${l}#icon-eye-off`))};return e.jsx(F,{initialValues:V,validationSchema:Q,onSubmit:j,children:({errors:s,touched:a})=>{const f=a.email?s.email?"1px solid #D80027":"1px solid #3CBF61":"1px solid #efede8",y=a.password?s.password?"1px solid #D80027":"1px solid #3CBF61":"1px solid #efede8";return e.jsxs($,{autoComplete:"off",children:[e.jsxs(T,{children:[e.jsxs("div",{children:[e.jsx(d,{children:e.jsx(p,{border:f,type:"text",name:"email",validate:P,placeholder:"Email"})}),s.email&&a.email||!s.email&&a.email?e.jsxs(m,{children:[e.jsx(x,{fill:!s.email&&a.email?"#3CBF61":null,children:e.jsx("use",{href:`${l}#icon-checkbox`})}),e.jsx(u,{color:!s.email&&a.email?"#3CBF61":null,children:s.email?s.email:"Success email"})]}):null]}),e.jsxs("div",{children:[e.jsxs(d,{children:[e.jsx(p,{border:y,type:r,name:"password",placeholder:"Password"}),e.jsx(W,{children:e.jsx(L,{onClick:g,children:e.jsx("use",{href:o})})})]}),s.password&&a.password||!s.password&&a.password?e.jsxs(m,{children:[e.jsx(x,{fill:!s.password&&a.password?"#3CBF61":null,children:e.jsx("use",{href:`${l}#icon-checkbox`})}),e.jsx(u,{color:!s.password&&a.password?"#3CBF61":null,children:s.password?s.password:"Success password"})]}):null]})]}),e.jsx(D,{type:"submit",children:"Sign In"})]})}})},G=o=>{h.error(o,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},J=o=>{h.success(o,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},K=b.create({baseURL:"https://powerpulse-t5-backend.onrender.com/api/"}),M=async o=>{try{const{data:i}=await K.get(`auth/verify/${o}`);J(`${i.message}! Use your credentials to login`)}catch(i){G(`Error when verifyin email: ${i.response.data}`)}},ee=()=>{const{verificationToken:o}=C();return o&&M(o),e.jsxs(k,{children:[e.jsxs(N,{children:[e.jsx(I,{to:"/welcome",children:e.jsx(E,{})}),e.jsxs(H,{children:[e.jsx(R,{children:"Sign In"}),e.jsx(q,{children:"Welcome! Please enter your credentials to login to the platform:"}),e.jsx(z,{}),e.jsxs(O,{$margin:!0,children:["Don't have an account?"," ",e.jsx(U,{to:"/signup",children:" Sign Up"})]})]})]}),e.jsx(A,{})]})};export{ee as default};
