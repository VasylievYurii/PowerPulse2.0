import{r as n,a as l,u as w,j as e,ak as v,al as b,am as C,b as k,L as I,Q as h}from"./index-a265c336.js";import{S as E,a as B,b as F,W as $}from"./WelcomeStats-010ddda6.js";import{c as T,a as c,e as P,f as W}from"./index.esm-aee7dcf0.js";import{W as L,L as d,I as p,v as D,a as m,S as x,E as u,b as R,c as q,B as O,T as U,P as N,d as H,N as A}from"./SignUp.styled-7fa8465a.js";const Q=T().shape({email:c().email("Invalid email").required("Required!"),password:c().min(6,"Too Short!").required("Required!")}),V={email:"",password:""},z=()=>{const[i,o]=n.useState(`${l}#icon-eye-off`),[r,t]=n.useState("password"),S=w(),j=(s,a)=>{S(v(s)),a.resetForm()},g=()=>{r==="password"?(t("text"),o(`${l}#icon-eye`)):(t("password"),o(`${l}#icon-eye-off`))};return e.jsx(P,{initialValues:V,validationSchema:Q,onSubmit:j,children:({errors:s,touched:a})=>{const y=s.email&&a.email&&"1px solid #D80027"||!s.email&&a.email&&"1px solid #3CBF61",f=s.password&&a.password&&"1px solid #D80027"||!s.password&&a.password&&"1px solid #3CBF61";return e.jsxs(W,{autoComplete:"off",children:[e.jsxs(L,{children:[e.jsxs("div",{children:[e.jsx(d,{children:e.jsx(p,{border:y,type:"text",name:"email",validate:D,placeholder:"Email"})}),s.email&&a.email||!s.email&&a.email?e.jsxs(m,{children:[e.jsx(x,{fill:!s.email&&a.email?"#3CBF61":null,children:e.jsx("use",{href:`${l}#icon-checkbox`})}),e.jsx(u,{color:!s.email&&a.email?"#3CBF61":null,children:s.email?s.email:"Success email"})]}):null]}),e.jsxs("div",{children:[e.jsxs(d,{children:[e.jsx(p,{border:f,type:r,name:"password",placeholder:"Password"}),e.jsx(R,{children:e.jsx(q,{onClick:g,children:e.jsx("use",{href:i})})})]}),s.password&&a.password||!s.password&&a.password?e.jsxs(m,{children:[e.jsx(x,{fill:!s.password&&a.password?"#3CBF61":null,children:e.jsx("use",{href:`${l}#icon-checkbox`})}),e.jsx(u,{color:!s.password&&a.password?"#3CBF61":null,children:s.password?s.password:"Success password"})]}):null]})]}),e.jsx(O,{type:"submit",children:"Sign In"})]})}})},G=i=>{h.error(i,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},J=i=>{h.success(i,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},K=b.create({baseURL:"https://powerpulse-t5-backend.onrender.com/api/"}),M=async i=>{try{const{data:o}=await K.get(`auth/verify/${i}`);J(`${o.message}! Use your credentials to login`)}catch(o){G(`Error when verifyin email: ${o.response.data}`)}},ee=()=>{const{verificationToken:i}=C();return i&&M(i),e.jsxs(E,{children:[e.jsxs(B,{children:[e.jsx(k,{to:"/welcome",children:e.jsx(I,{})}),e.jsxs(F,{children:[e.jsx(U,{children:"Sign In"}),e.jsx(N,{children:"Welcome! Please enter your credentials to login to the platform:"}),e.jsx(z,{}),e.jsxs(H,{$margin:!0,children:["Don't have an account?"," ",e.jsx(A,{to:"/signup",children:" Sign Up"})]})]})]}),e.jsx($,{})]})};export{ee as default};
