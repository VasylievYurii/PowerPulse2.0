import{r as t,a as r,u as w,j as e,aj as v,ak as b,al as C,b as k,L as I,ai as h}from"./index-89f20c3e.js";import{S as E,a as B,b as F,W as $}from"./WelcomeStats-715ccaee.js";import{c as T,a as c,e as P,f as W}from"./index.esm-8215a549.js";import{W as L,L as d,I as p,v as D,a as m,S as u,E as x,b as R,c as q,B as O,T as U,P as N,d as H,N as A}from"./SignUp.styled-e60a4f5c.js";const Q=T().shape({email:c().email("Invalid email").required("Required!"),password:c().min(6,"Too Short!").required("Required!")}),V={email:"",password:""},z=()=>{const[o,i]=t.useState(`${r}#icon-eye-off`),[l,n]=t.useState("password");t.useState("");const S=w(),j=(s,a)=>{S(v(s)),a.resetForm()},g=()=>{l==="password"?(n("text"),i(`${r}#icon-eye`)):(n("password"),i(`${r}#icon-eye-off`))};return e.jsx(P,{initialValues:V,validationSchema:Q,onSubmit:j,children:({errors:s,touched:a})=>{const y=s.email&&a.email?"1px solid #D80027":"1px solid #3CBF61",f=s.password&&a.password?"1px solid #D80027":"1px solid #3CBF61";return e.jsxs(W,{autoComplete:"off",children:[e.jsxs(L,{children:[e.jsxs("div",{children:[e.jsx(d,{children:e.jsx(p,{border:y,type:"text",name:"email",validate:D,placeholder:"Email"})}),s.email&&a.email||!s.email&&a.email?e.jsxs(m,{children:[e.jsx(u,{fill:!s.email&&a.email?"#3CBF61":null,children:e.jsx("use",{href:`${r}#icon-checkbox`})}),e.jsx(x,{color:!s.email&&a.email?"#3CBF61":null,children:s.email?s.email:"Success email"})]}):null]}),e.jsxs("div",{children:[e.jsxs(d,{children:[e.jsx(p,{border:f,type:l,name:"password",placeholder:"Password"}),e.jsx(R,{children:e.jsx(q,{onClick:g,children:e.jsx("use",{href:o})})})]}),s.password&&a.password||!s.password&&a.password?e.jsxs(m,{children:[e.jsx(u,{fill:!s.password&&a.password?"#3CBF61":null,children:e.jsx("use",{href:`${r}#icon-checkbox`})}),e.jsx(x,{color:!s.password&&a.password?"#3CBF61":null,children:s.password?s.password:"Success password"})]}):null]})]}),e.jsx(O,{type:"submit",children:"Sign In"})]})}})},G=o=>{h.error(o,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},J=o=>{h.success(o,{position:"top-center",autoClose:7e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},K=b.create({baseURL:"https://powerpulse-t5-backend.onrender.com/api/"}),M=async o=>{try{const{data:i}=await K.get(`auth/verify/${o}`);J(`${i.message}! Use your credentials to login`)}catch(i){G(`Error when verifyin email: ${i.response.data}`)}},ee=()=>{const{verificationToken:o}=C();return o&&M(o),e.jsxs(E,{children:[e.jsxs(B,{children:[e.jsx(k,{to:"/welcome",children:e.jsx(I,{})}),e.jsxs(F,{children:[e.jsx(U,{children:"Sign In"}),e.jsx(N,{children:"Welcome! Please enter your credentials to login to the platform:"}),e.jsx(z,{}),e.jsxs(H,{$margin:!0,children:["Don't have an account?"," ",e.jsx(A,{to:"/signup",children:" Sign Up"})]})]})]}),e.jsx($,{})]})};export{ee as default};
